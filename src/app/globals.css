@import url("https://fonts.googleapis.com/css2?family=Special+Elite&family=Roboto+Condensed:wght@400;700&family=Rubik+Mono+One&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg-primary: #000000;
    --bg-secondary: #191919;
    --accent-red: #eb0404;
    --text-light: #e0e0e0;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-condensed;
    background-image: url("/assets/textures/noise.svg");
    background-repeat: repeat;
    background-size: 200px;
    background-blend-mode: overlay;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-stencil uppercase tracking-widest leading-tight max-w-[calc(100ch)];
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  }

  p,
  span,
  div {
    @apply font-condensed uppercase;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
}

@layer components {
  .btn-metal {
    @apply relative px-6 py-2 border-2 border-primary bg-background text-foreground uppercase font-condensed font-bold min-h-[44px] min-w-[44px];
    clip-path: polygon(0 0, 100% 0, 100% 85%, 95% 100%, 0 100%);
    transition: all 0.2s ease-in-out;
  }

  .btn-metal:hover {
    @apply animate-glitch;
  }

  .btn-metal:active {
    @apply animate-shake bg-primary text-background;
  }

  /* Touch device styles */
  @media (hover: none) {
    .btn-metal:active {
      @apply animate-glitch;
    }
  }

  .panel-metal {
    @apply relative bg-card border border-dashed border-primary p-6;
    clip-path: polygon(0 0, 100% 0, 100% 95%, 98% 100%, 0 100%);
  }

  .panel-metal::after {
    content: "";
    @apply absolute bottom-0 left-0 w-full h-1 bg-primary opacity-0 transition-opacity duration-200;
    background-image: url("/assets/textures/brush-stroke.svg");
    background-size: 100% 100%;
  }

  .panel-metal:hover::after {
    @apply opacity-100;
  }

  /* Touch device styles */
  @media (hover: none) {
    .panel-metal:active::after {
      @apply opacity-100;
    }
  }

  .nav-metal {
    @apply relative w-full bg-background border-b border-primary;
  }

  .nav-metal::before {
    content: "";
    @apply absolute top-0 left-0 w-full h-full;
    background-image: url("/assets/textures/brush-stroke.svg");
    background-size: 100% 100%;
    pointer-events: none;
  }

  .nav-link {
    @apply uppercase font-condensed font-bold text-foreground hover:animate-flicker min-h-[44px] min-w-[44px] inline-flex items-center justify-center;
  }

  .post-metal {
    @apply relative;
  }

  .post-metal::after {
    content: "";
    @apply absolute inset-0 pointer-events-none;
    background-image: url("/masks/s1.svg");
    background-size: cover;
    opacity: 0.05;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .grunge-overlay {
    @apply relative;
  }

  .grunge-overlay::before {
    content: "";
    @apply absolute inset-0 bg-grunge-overlay opacity-30 pointer-events-none;
  }

  /* Animation status roles */
  [role="status"] {
    @apply sr-only;
  }
}
